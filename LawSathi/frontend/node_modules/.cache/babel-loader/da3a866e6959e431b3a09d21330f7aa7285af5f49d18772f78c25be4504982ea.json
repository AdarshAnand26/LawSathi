{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import axios from'axios';import'./App.css';import Login from'./components/Login';import{Button}from'./components/ui/button';import{Input}from'./components/ui/input';import{Card,CardContent,CardHeader,CardTitle}from'./components/ui/card';import{Badge}from'./components/ui/badge';import{Tabs,TabsContent,TabsList,TabsTrigger}from'./components/ui/tabs';import{ScrollArea}from'./components/ui/scroll-area';import{Alert,AlertDescription}from'./components/ui/alert';import{Mic,MicOff,Send,Upload,Volume2,VolumeX,User,Bot,FileText,Languages,LogOut}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const API=\"\".concat(BACKEND_URL,\"/api\");function App(){const[user,setUser]=useState(null);const[messages,setMessages]=useState([]);const[inputMessage,setInputMessage]=useState('');const[sessionId,setSessionId]=useState('');const[isLoading,setIsLoading]=useState(false);const[language,setLanguage]=useState('english');const[isListening,setIsListening]=useState(false);const[isSpeaking,setIsSpeaking]=useState(false);const[popularTopics,setPopularTopics]=useState([]);const[selectedFile,setSelectedFile]=useState(null);const[isUploading,setIsUploading]=useState(false);const messagesEndRef=useRef(null);const fileInputRef=useRef(null);const recognitionRef=useRef(null);// Check for existing user session on app load\nuseEffect(()=>{const storedUser=localStorage.getItem('lawsathi_user');if(storedUser){try{const userData=JSON.parse(storedUser);setUser(userData);}catch(error){console.error('Error parsing stored user data:',error);localStorage.removeItem('lawsathi_user');}}},[]);// Initialize session and load popular topics when user logs in\nuseEffect(()=>{if(user){const newSessionId=generateSessionId();setSessionId(newSessionId);loadPopularTopics();addWelcomeMessage();initializeSpeechRecognition();}},[user,language]);// Auto-scroll to bottom when new messages arrive\nuseEffect(()=>{scrollToBottom();},[messages]);const generateSessionId=()=>{return'session_'+Math.random().toString(36).substr(2,9)+'_'+Date.now();};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const initializeSpeechRecognition=()=>{// Initialize speech recognition\nif('webkitSpeechRecognition'in window||'SpeechRecognition'in window){const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;recognitionRef.current=new SpeechRecognition();recognitionRef.current.continuous=false;recognitionRef.current.interimResults=false;recognitionRef.current.lang=language==='hindi'?'hi-IN':'en-IN';recognitionRef.current.onresult=event=>{const transcript=event.results[0][0].transcript;setInputMessage(transcript);setIsListening(false);};recognitionRef.current.onerror=()=>{setIsListening(false);};recognitionRef.current.onend=()=>{setIsListening(false);};}};const addWelcomeMessage=()=>{const welcomeMessage={id:'welcome',type:'bot',content:language==='hindi'?\"\\u0928\\u092E\\u0938\\u094D\\u0924\\u0947 \".concat((user===null||user===void 0?void 0:user.name)||'उपयोगकर्ता',\"! \\u092E\\u0948\\u0902 LawSathi \\u0939\\u0942\\u0902, \\u0906\\u092A\\u0915\\u093E \\u0915\\u093E\\u0928\\u0942\\u0928\\u0940 \\u0938\\u0939\\u093E\\u092F\\u0915\\u0964 \\u092E\\u0948\\u0902 \\u092D\\u093E\\u0930\\u0924\\u0940\\u092F \\u0915\\u093E\\u0928\\u0942\\u0928, \\u0938\\u0930\\u0915\\u093E\\u0930\\u0940 \\u092F\\u094B\\u091C\\u0928\\u093E\\u0913\\u0902 \\u0914\\u0930 \\u0906\\u092A\\u0915\\u0947 \\u0905\\u0927\\u093F\\u0915\\u093E\\u0930\\u094B\\u0902 \\u0915\\u0947 \\u092C\\u093E\\u0930\\u0947 \\u092E\\u0947\\u0902 \\u0915\\u093F\\u0938\\u0940 \\u092D\\u0940 \\u092A\\u094D\\u0930\\u0936\\u094D\\u0928 \\u0915\\u093E \\u0909\\u0924\\u094D\\u0924\\u0930 \\u0926\\u0947 \\u0938\\u0915\\u0924\\u093E \\u0939\\u0942\\u0902\\u0964 \\u0906\\u092A \\u092E\\u0941\\u091D\\u0938\\u0947 \\u0915\\u0941\\u091B \\u092D\\u0940 \\u092A\\u0942\\u091B \\u0938\\u0915\\u0924\\u0947 \\u0939\\u0948\\u0902!\"):\"Hello \".concat((user===null||user===void 0?void 0:user.name)||'User',\"! I am LawSathi, your legal assistant. I can answer any questions about Indian laws, government schemes, and your rights. Feel free to ask me anything!\"),timestamp:new Date().toISOString(),messageType:'text'};setMessages([welcomeMessage]);};const loadPopularTopics=async()=>{try{const response=await axios.get(\"\".concat(API,\"/popular-topics\"));setPopularTopics(response.data.topics);}catch(error){console.error('Failed to load popular topics:',error);}};const handleLogin=userData=>{setUser(userData);};const handleLogout=()=>{localStorage.removeItem('lawsathi_user');setUser(null);setMessages([]);setSessionId('');setInputMessage('');};const sendMessage=async()=>{if(!inputMessage.trim()||isLoading)return;const userMessage={id:Date.now().toString(),type:'user',content:inputMessage,timestamp:new Date().toISOString(),messageType:'text'};setMessages(prev=>[...prev,userMessage]);setIsLoading(true);const currentMessage=inputMessage;setInputMessage('');try{const response=await axios.post(\"\".concat(API,\"/chat\"),{message:currentMessage,session_id:sessionId,language:language});const botMessage={id:Date.now().toString()+'_bot',type:'bot',content:response.data.response,timestamp:response.data.timestamp,messageType:'text',sources:response.data.sources||[]};setMessages(prev=>[...prev,botMessage]);// Auto-speak response if text-to-speech is available\nif('speechSynthesis'in window&&!isSpeaking){speakText(response.data.response);}}catch(error){console.error('Chat error:',error);const errorMessage={id:Date.now().toString()+'_error',type:'bot',content:language==='hindi'?'क्षमा करें, कुछ गलत हुआ है। कृपया पुनः प्रयास करें।':'Sorry, something went wrong. Please try again.',timestamp:new Date().toISOString(),messageType:'error'};setMessages(prev=>[...prev,errorMessage]);}finally{setIsLoading(false);}};const startListening=()=>{if(recognitionRef.current&&!isListening){setIsListening(true);recognitionRef.current.start();}};const stopListening=()=>{if(recognitionRef.current&&isListening){recognitionRef.current.stop();setIsListening(false);}};const speakText=text=>{if('speechSynthesis'in window){// Stop any current speech\nwindow.speechSynthesis.cancel();const utterance=new SpeechSynthesisUtterance(text);utterance.lang=language==='hindi'?'hi-IN':'en-IN';utterance.rate=0.8;utterance.onstart=()=>setIsSpeaking(true);utterance.onend=()=>setIsSpeaking(false);utterance.onerror=()=>setIsSpeaking(false);window.speechSynthesis.speak(utterance);}};const stopSpeaking=()=>{if('speechSynthesis'in window){window.speechSynthesis.cancel();setIsSpeaking(false);}};const handleFileUpload=async file=>{if(!file)return;setIsUploading(true);const formData=new FormData();formData.append('file',file);formData.append('session_id',sessionId);formData.append('language',language);// Add user message for file upload\nconst uploadMessage={id:Date.now().toString(),type:'user',content:\"\\uD83D\\uDCC4 Uploaded document: \".concat(file.name),timestamp:new Date().toISOString(),messageType:'document'};setMessages(prev=>[...prev,uploadMessage]);try{const response=await axios.post(\"\".concat(API,\"/upload-document\"),formData,{headers:{'Content-Type':'multipart/form-data'}});const botMessage={id:Date.now().toString()+'_doc',type:'bot',content:response.data.explanation,timestamp:new Date().toISOString(),messageType:'document',extractedText:response.data.extracted_text};setMessages(prev=>[...prev,botMessage]);// Auto-speak document explanation\nif('speechSynthesis'in window&&!isSpeaking){speakText(response.data.explanation);}}catch(error){console.error('Document upload error:',error);const errorMessage={id:Date.now().toString()+'_doc_error',type:'bot',content:language==='hindi'?'दस्तावेज़ अपलोड करने में समस्या हुई। कृपया पुनः प्रयास करें।':'Failed to process document. Please try again.',timestamp:new Date().toISOString(),messageType:'error'};setMessages(prev=>[...prev,errorMessage]);}finally{setIsUploading(false);setSelectedFile(null);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};const handleTopicClick=question=>{setInputMessage(question);};// Show login page if user is not logged in\nif(!user){return/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,language:language,setLanguage:setLanguage});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-md border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"LawSathi\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:language==='hindi'?'आपका कानूनी सहायक':'Your Legal Assistant'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600\",children:[language==='hindi'?'नमस्ते':'Hello',\", \",user.name]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:()=>setLanguage(language==='english'?'hindi':'english'),className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Languages,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:language==='english'?'हिंदी':'English'})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",onClick:handleLogout,className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:language==='hindi'?'लॉग आउट':'Logout'})]})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-4 py-6 max-w-4xl\",children:/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"chat\",className:\"w-full\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full grid-cols-2 mb-6\",children:[/*#__PURE__*/_jsx(TabsTrigger,{value:\"chat\",children:language==='hindi'?'चैट':'Chat'}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"topics\",children:language==='hindi'?'लोकप्रिय विषय':'Popular Topics'})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"chat\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{className:\"chat-container\",children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-3 flex-shrink-0\",children:/*#__PURE__*/_jsxs(CardTitle,{className:\"text-lg flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Bot,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:language==='hindi'?'कानूनी सहायक चैट':'Legal Assistant Chat'})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-messages\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.type==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[85%] rounded-lg p-3 message-bubble \".concat(message.type==='user'?'bg-blue-600 text-white':message.messageType==='error'?'bg-red-100 border border-red-300 text-red-800':'bg-gray-100 border border-gray-200 text-gray-900'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[message.type==='bot'&&/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4 mt-1 flex-shrink-0\"}),message.type==='user'&&/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 message-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm whitespace-pre-wrap break-words\",children:message.content}),message.messageType==='document'&&message.extractedText&&/*#__PURE__*/_jsxs(\"details\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"summary\",{className:\"cursor-pointer text-xs opacity-75\",children:language==='hindi'?'मूल पाठ देखें':'View extracted text'}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 p-2 bg-white/20 rounded break-words\",children:message.extractedText})]}),message.sources&&message.sources.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-1\",children:message.sources.map((source,idx)=>/*#__PURE__*/_jsx(Badge,{variant:\"secondary\",className:\"text-xs\",children:source},idx))}),message.type==='bot'&&message.messageType!=='error'&&/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"sm\",className:\"mt-2 p-1 h-auto\",onClick:()=>isSpeaking?stopSpeaking():speakText(message.content),disabled:!('speechSynthesis'in window),children:isSpeaking?/*#__PURE__*/_jsx(VolumeX,{className:\"w-3 h-3\"}):/*#__PURE__*/_jsx(Volume2,{className:\"w-3 h-3\"})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs opacity-75 mt-1 text-right\",children:new Date(message.timestamp).toLocaleTimeString()})]})},message.id)),isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-100 rounded-lg p-3 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Bot,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-input-area\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 relative\",children:[/*#__PURE__*/_jsx(Input,{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:language==='hindi'?'अपना कानूनी प्रश्न यहाँ लिखें...':'Type your legal question here...',disabled:isLoading||isUploading,className:\"pr-24 chat-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1\",children:['webkitSpeechRecognition'in window&&/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"ghost\",size:\"sm\",onClick:isListening?stopListening:startListening,disabled:isLoading||isUploading,className:\"p-1 h-auto \".concat(isListening?'text-red-600 listening-pulse':''),children:isListening?/*#__PURE__*/_jsx(MicOff,{className:\"w-4 h-4\"}):/*#__PURE__*/_jsx(Mic,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(Button,{type:\"button\",variant:\"ghost\",size:\"sm\",onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},disabled:isLoading||isUploading,className:\"p-1 h-auto\",children:/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4\"})})]})]}),/*#__PURE__*/_jsx(Button,{onClick:sendMessage,disabled:!inputMessage.trim()||isLoading||isUploading,className:\"px-4\",children:/*#__PURE__*/_jsx(Send,{className:\"w-4 h-4\"})})]}),isUploading&&/*#__PURE__*/_jsxs(Alert,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(AlertDescription,{children:language==='hindi'?'दस्तावेज़ संसाधित हो रहा है...':'Processing document...'})]}),isListening&&/*#__PURE__*/_jsxs(Alert,{className:\"mt-2\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(AlertDescription,{children:language==='hindi'?'सुन रहा हूँ... बोलिए':'Listening... Please speak'})]})]})]}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\".pdf,image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){handleFileUpload(file);}},className:\"hidden\"})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"topics\",className:\"space-y-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"grid gap-6\",children:popularTopics.map((topic,index)=>/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{className:\"text-lg\",children:topic.category})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:topic.questions.map((question,qIndex)=>/*#__PURE__*/_jsx(Button,{variant:\"outline\",className:\"w-full text-left justify-start h-auto py-3 px-4\",onClick:()=>{handleTopicClick(question);// Switch to chat tab safely\nconst chatTab=document.querySelector('[value=\"chat\"]');if(chatTab){chatTab.click();}},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm break-words\",children:question})},qIndex))})})]},index))})})]})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Login","Button","Input","Card","CardContent","CardHeader","CardTitle","Badge","Tabs","TabsContent","TabsList","TabsTrigger","ScrollArea","Alert","AlertDescription","Mic","MicOff","Send","Upload","Volume2","VolumeX","User","Bot","FileText","Languages","LogOut","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","API","concat","App","user","setUser","messages","setMessages","inputMessage","setInputMessage","sessionId","setSessionId","isLoading","setIsLoading","language","setLanguage","isListening","setIsListening","isSpeaking","setIsSpeaking","popularTopics","setPopularTopics","selectedFile","setSelectedFile","isUploading","setIsUploading","messagesEndRef","fileInputRef","recognitionRef","storedUser","localStorage","getItem","userData","JSON","parse","error","console","removeItem","newSessionId","generateSessionId","loadPopularTopics","addWelcomeMessage","initializeSpeechRecognition","scrollToBottom","Math","random","toString","substr","Date","now","_messagesEndRef$curre","current","scrollIntoView","behavior","window","SpeechRecognition","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","onerror","onend","welcomeMessage","id","type","content","name","timestamp","toISOString","messageType","response","get","data","topics","handleLogin","handleLogout","sendMessage","trim","userMessage","prev","currentMessage","post","message","session_id","botMessage","sources","speakText","errorMessage","startListening","start","stopListening","stop","text","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","rate","onstart","speak","stopSpeaking","handleFileUpload","file","formData","FormData","append","uploadMessage","headers","explanation","extractedText","extracted_text","handleKeyPress","e","key","shiftKey","preventDefault","handleTopicClick","question","onLogin","className","children","variant","size","onClick","defaultValue","value","map","length","source","idx","disabled","toLocaleTimeString","style","animationDelay","ref","onChange","target","onKeyPress","placeholder","_fileInputRef$current","click","accept","_e$target$files","files","topic","index","category","questions","qIndex","chatTab","document","querySelector"],"sources":["C:/Users/adars/OneDrive/Desktop/LawSathi/LawSathi/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport Login from './components/Login';\nimport { Button } from './components/ui/button';\nimport { Input } from './components/ui/input';\nimport { Card, CardContent, CardHeader, CardTitle } from './components/ui/card';\nimport { Badge } from './components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from './components/ui/tabs';\nimport { ScrollArea } from './components/ui/scroll-area';\nimport { Alert, AlertDescription } from './components/ui/alert';\nimport { Mic, MicOff, Send, Upload, Volume2, VolumeX, User, Bot, FileText, Languages, LogOut } from 'lucide-react';\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\nconst API = `${BACKEND_URL}/api`;\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [sessionId, setSessionId] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [language, setLanguage] = useState('english');\n  const [isListening, setIsListening] = useState(false);\n  const [isSpeaking, setIsSpeaking] = useState(false);\n  const [popularTopics, setPopularTopics] = useState([]);\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [isUploading, setIsUploading] = useState(false);\n  \n  const messagesEndRef = useRef(null);\n  const fileInputRef = useRef(null);\n  const recognitionRef = useRef(null);\n\n  // Check for existing user session on app load\n  useEffect(() => {\n    const storedUser = localStorage.getItem('lawsathi_user');\n    if (storedUser) {\n      try {\n        const userData = JSON.parse(storedUser);\n        setUser(userData);\n      } catch (error) {\n        console.error('Error parsing stored user data:', error);\n        localStorage.removeItem('lawsathi_user');\n      }\n    }\n  }, []);\n\n  // Initialize session and load popular topics when user logs in\n  useEffect(() => {\n    if (user) {\n      const newSessionId = generateSessionId();\n      setSessionId(newSessionId);\n      loadPopularTopics();\n      addWelcomeMessage();\n      initializeSpeechRecognition();\n    }\n  }, [user, language]);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const generateSessionId = () => {\n    return 'session_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now();\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const initializeSpeechRecognition = () => {\n    // Initialize speech recognition\n    if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n      recognitionRef.current = new SpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = false;\n      recognitionRef.current.lang = language === 'hindi' ? 'hi-IN' : 'en-IN';\n      \n      recognitionRef.current.onresult = (event) => {\n        const transcript = event.results[0][0].transcript;\n        setInputMessage(transcript);\n        setIsListening(false);\n      };\n      \n      recognitionRef.current.onerror = () => {\n        setIsListening(false);\n      };\n      \n      recognitionRef.current.onend = () => {\n        setIsListening(false);\n      };\n    }\n  };\n\n  const addWelcomeMessage = () => {\n    const welcomeMessage = {\n      id: 'welcome',\n      type: 'bot',\n      content: language === 'hindi' \n        ? `नमस्ते ${user?.name || 'उपयोगकर्ता'}! मैं LawSathi हूं, आपका कानूनी सहायक। मैं भारतीय कानून, सरकारी योजनाओं और आपके अधिकारों के बारे में किसी भी प्रश्न का उत्तर दे सकता हूं। आप मुझसे कुछ भी पूछ सकते हैं!`\n        : `Hello ${user?.name || 'User'}! I am LawSathi, your legal assistant. I can answer any questions about Indian laws, government schemes, and your rights. Feel free to ask me anything!`,\n      timestamp: new Date().toISOString(),\n      messageType: 'text'\n    };\n    setMessages([welcomeMessage]);\n  };\n\n  const loadPopularTopics = async () => {\n    try {\n      const response = await axios.get(`${API}/popular-topics`);\n      setPopularTopics(response.data.topics);\n    } catch (error) {\n      console.error('Failed to load popular topics:', error);\n    }\n  };\n\n  const handleLogin = (userData) => {\n    setUser(userData);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('lawsathi_user');\n    setUser(null);\n    setMessages([]);\n    setSessionId('');\n    setInputMessage('');\n  };\n\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || isLoading) return;\n\n    const userMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date().toISOString(),\n      messageType: 'text'\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    \n    const currentMessage = inputMessage;\n    setInputMessage('');\n\n    try {\n      const response = await axios.post(`${API}/chat`, {\n        message: currentMessage,\n        session_id: sessionId,\n        language: language\n      });\n\n      const botMessage = {\n        id: Date.now().toString() + '_bot',\n        type: 'bot',\n        content: response.data.response,\n        timestamp: response.data.timestamp,\n        messageType: 'text',\n        sources: response.data.sources || []\n      };\n\n      setMessages(prev => [...prev, botMessage]);\n      \n      // Auto-speak response if text-to-speech is available\n      if ('speechSynthesis' in window && !isSpeaking) {\n        speakText(response.data.response);\n      }\n    } catch (error) {\n      console.error('Chat error:', error);\n      const errorMessage = {\n        id: Date.now().toString() + '_error',\n        type: 'bot',\n        content: language === 'hindi' \n          ? 'क्षमा करें, कुछ गलत हुआ है। कृपया पुनः प्रयास करें।'\n          : 'Sorry, something went wrong. Please try again.',\n        timestamp: new Date().toISOString(),\n        messageType: 'error'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const startListening = () => {\n    if (recognitionRef.current && !isListening) {\n      setIsListening(true);\n      recognitionRef.current.start();\n    }\n  };\n\n  const stopListening = () => {\n    if (recognitionRef.current && isListening) {\n      recognitionRef.current.stop();\n      setIsListening(false);\n    }\n  };\n\n  const speakText = (text) => {\n    if ('speechSynthesis' in window) {\n      // Stop any current speech\n      window.speechSynthesis.cancel();\n      \n      const utterance = new SpeechSynthesisUtterance(text);\n      utterance.lang = language === 'hindi' ? 'hi-IN' : 'en-IN';\n      utterance.rate = 0.8;\n      \n      utterance.onstart = () => setIsSpeaking(true);\n      utterance.onend = () => setIsSpeaking(false);\n      utterance.onerror = () => setIsSpeaking(false);\n      \n      window.speechSynthesis.speak(utterance);\n    }\n  };\n\n  const stopSpeaking = () => {\n    if ('speechSynthesis' in window) {\n      window.speechSynthesis.cancel();\n      setIsSpeaking(false);\n    }\n  };\n\n  const handleFileUpload = async (file) => {\n    if (!file) return;\n\n    setIsUploading(true);\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('session_id', sessionId);\n    formData.append('language', language);\n\n    // Add user message for file upload\n    const uploadMessage = {\n      id: Date.now().toString(),\n      type: 'user',\n      content: `📄 Uploaded document: ${file.name}`,\n      timestamp: new Date().toISOString(),\n      messageType: 'document'\n    };\n    setMessages(prev => [...prev, uploadMessage]);\n\n    try {\n      const response = await axios.post(`${API}/upload-document`, formData, {\n        headers: { 'Content-Type': 'multipart/form-data' }\n      });\n\n      const botMessage = {\n        id: Date.now().toString() + '_doc',\n        type: 'bot',\n        content: response.data.explanation,\n        timestamp: new Date().toISOString(),\n        messageType: 'document',\n        extractedText: response.data.extracted_text\n      };\n\n      setMessages(prev => [...prev, botMessage]);\n      \n      // Auto-speak document explanation\n      if ('speechSynthesis' in window && !isSpeaking) {\n        speakText(response.data.explanation);\n      }\n    } catch (error) {\n      console.error('Document upload error:', error);\n      const errorMessage = {\n        id: Date.now().toString() + '_doc_error',\n        type: 'bot',\n        content: language === 'hindi' \n          ? 'दस्तावेज़ अपलोड करने में समस्या हुई। कृपया पुनः प्रयास करें।'\n          : 'Failed to process document. Please try again.',\n        timestamp: new Date().toISOString(),\n        messageType: 'error'\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsUploading(false);\n      setSelectedFile(null);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  const handleTopicClick = (question) => {\n    setInputMessage(question);\n  };\n\n  // Show login page if user is not logged in\n  if (!user) {\n    return <Login onLogin={handleLogin} language={language} setLanguage={setLanguage} />;\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\n      {/* Header */}\n      <header className=\"bg-white shadow-md border-b border-gray-200\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-10 h-10 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-full flex items-center justify-center\">\n                <Bot className=\"w-6 h-6 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-2xl font-bold text-gray-900\">LawSathi</h1>\n                <p className=\"text-sm text-gray-600\">\n                  {language === 'hindi' ? 'आपका कानूनी सहायक' : 'Your Legal Assistant'}\n                </p>\n              </div>\n            </div>\n            \n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm text-gray-600\">\n                {language === 'hindi' ? 'नमस्ते' : 'Hello'}, {user.name}\n              </span>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => setLanguage(language === 'english' ? 'hindi' : 'english')}\n                className=\"flex items-center space-x-2\"\n              >\n                <Languages className=\"w-4 h-4\" />\n                <span>{language === 'english' ? 'हिंदी' : 'English'}</span>\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleLogout}\n                className=\"flex items-center space-x-2\"\n              >\n                <LogOut className=\"w-4 h-4\" />\n                <span>{language === 'hindi' ? 'लॉग आउट' : 'Logout'}</span>\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"container mx-auto px-4 py-6 max-w-4xl\">\n        <Tabs defaultValue=\"chat\" className=\"w-full\">\n          <TabsList className=\"grid w-full grid-cols-2 mb-6\">\n            <TabsTrigger value=\"chat\">\n              {language === 'hindi' ? 'चैट' : 'Chat'}\n            </TabsTrigger>\n            <TabsTrigger value=\"topics\">\n              {language === 'hindi' ? 'लोकप्रिय विषय' : 'Popular Topics'}\n            </TabsTrigger>\n          </TabsList>\n\n          <TabsContent value=\"chat\" className=\"space-y-4\">\n            {/* Chat Interface with Fixed Layout */}\n            <Card className=\"chat-container\">\n              <CardHeader className=\"pb-3 flex-shrink-0\">\n                <CardTitle className=\"text-lg flex items-center space-x-2\">\n                  <Bot className=\"w-5 h-5\" />\n                  <span>{language === 'hindi' ? 'कानूनी सहायक चैट' : 'Legal Assistant Chat'}</span>\n                </CardTitle>\n              </CardHeader>\n              \n              {/* Messages Area with Fixed Height and Scroll */}\n              <div className=\"chat-messages\">\n                <div className=\"space-y-4\">\n                  {messages.map((message) => (\n                    <div key={message.id} className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}>\n                      <div className={`max-w-[85%] rounded-lg p-3 message-bubble ${\n                        message.type === 'user' \n                          ? 'bg-blue-600 text-white' \n                          : message.messageType === 'error'\n                          ? 'bg-red-100 border border-red-300 text-red-800'\n                          : 'bg-gray-100 border border-gray-200 text-gray-900'\n                      }`}>\n                        <div className=\"flex items-start space-x-2\">\n                          {message.type === 'bot' && (\n                            <Bot className=\"w-4 h-4 mt-1 flex-shrink-0\" />\n                          )}\n                          {message.type === 'user' && (\n                            <User className=\"w-4 h-4 mt-1 flex-shrink-0\" />\n                          )}\n                          <div className=\"flex-1 message-content\">\n                            <p className=\"text-sm whitespace-pre-wrap break-words\">{message.content}</p>\n                            {message.messageType === 'document' && message.extractedText && (\n                              <details className=\"mt-2\">\n                                <summary className=\"cursor-pointer text-xs opacity-75\">\n                                  {language === 'hindi' ? 'मूल पाठ देखें' : 'View extracted text'}\n                                </summary>\n                                <p className=\"text-xs mt-1 p-2 bg-white/20 rounded break-words\">{message.extractedText}</p>\n                              </details>\n                            )}\n                            {message.sources && message.sources.length > 0 && (\n                              <div className=\"mt-2 flex flex-wrap gap-1\">\n                                {message.sources.map((source, idx) => (\n                                  <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\n                                    {source}\n                                  </Badge>\n                                ))}\n                              </div>\n                            )}\n                            {message.type === 'bot' && message.messageType !== 'error' && (\n                              <Button\n                                variant=\"ghost\"\n                                size=\"sm\"\n                                className=\"mt-2 p-1 h-auto\"\n                                onClick={() => isSpeaking ? stopSpeaking() : speakText(message.content)}\n                                disabled={!('speechSynthesis' in window)}\n                              >\n                                {isSpeaking ? (\n                                  <VolumeX className=\"w-3 h-3\" />\n                                ) : (\n                                  <Volume2 className=\"w-3 h-3\" />\n                                )}\n                              </Button>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"text-xs opacity-75 mt-1 text-right\">\n                          {new Date(message.timestamp).toLocaleTimeString()}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                  {isLoading && (\n                    <div className=\"flex justify-start\">\n                      <div className=\"bg-gray-100 rounded-lg p-3 flex items-center space-x-2\">\n                        <Bot className=\"w-4 h-4\" />\n                        <div className=\"flex space-x-1\">\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.1s'}}></div>\n                          <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{animationDelay: '0.2s'}}></div>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div ref={messagesEndRef} />\n              </div>\n\n              {/* Input Area - Fixed at Bottom */}\n              <div className=\"chat-input-area\">\n                <div className=\"flex space-x-2\">\n                  <div className=\"flex-1 relative\">\n                    <Input\n                      value={inputMessage}\n                      onChange={(e) => setInputMessage(e.target.value)}\n                      onKeyPress={handleKeyPress}\n                      placeholder={language === 'hindi' ? 'अपना कानूनी प्रश्न यहाँ लिखें...' : 'Type your legal question here...'}\n                      disabled={isLoading || isUploading}\n                      className=\"pr-24 chat-input\"\n                    />\n                    <div className=\"absolute right-2 top-1/2 transform -translate-y-1/2 flex space-x-1\">\n                      {/* Voice Input Button */}\n                      {'webkitSpeechRecognition' in window && (\n                        <Button\n                          type=\"button\"\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={isListening ? stopListening : startListening}\n                          disabled={isLoading || isUploading}\n                          className={`p-1 h-auto ${isListening ? 'text-red-600 listening-pulse' : ''}`}\n                        >\n                          {isListening ? <MicOff className=\"w-4 h-4\" /> : <Mic className=\"w-4 h-4\" />}\n                        </Button>\n                      )}\n                      \n                      {/* File Upload Button */}\n                      <Button\n                        type=\"button\"\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => fileInputRef.current?.click()}\n                        disabled={isLoading || isUploading}\n                        className=\"p-1 h-auto\"\n                      >\n                        <Upload className=\"w-4 h-4\" />\n                      </Button>\n                    </div>\n                  </div>\n                  \n                  <Button \n                    onClick={sendMessage} \n                    disabled={!inputMessage.trim() || isLoading || isUploading}\n                    className=\"px-4\"\n                  >\n                    <Send className=\"w-4 h-4\" />\n                  </Button>\n                </div>\n                \n                {/* Status Alerts */}\n                {isUploading && (\n                  <Alert className=\"mt-2\">\n                    <FileText className=\"w-4 h-4\" />\n                    <AlertDescription>\n                      {language === 'hindi' ? 'दस्तावेज़ संसाधित हो रहा है...' : 'Processing document...'}\n                    </AlertDescription>\n                  </Alert>\n                )}\n                \n                {isListening && (\n                  <Alert className=\"mt-2\">\n                    <Mic className=\"w-4 h-4\" />\n                    <AlertDescription>\n                      {language === 'hindi' ? 'सुन रहा हूँ... बोलिए' : 'Listening... Please speak'}\n                    </AlertDescription>\n                  </Alert>\n                )}\n              </div>\n            </Card>\n\n            {/* Hidden File Input */}\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\".pdf,image/*\"\n              onChange={(e) => {\n                const file = e.target.files?.[0];\n                if (file) {\n                  handleFileUpload(file);\n                }\n              }}\n              className=\"hidden\"\n            />\n          </TabsContent>\n\n          <TabsContent value=\"topics\" className=\"space-y-4\">\n            {/* Popular Topics */}\n            <div className=\"grid gap-6\">\n              {popularTopics.map((topic, index) => (\n                <Card key={index}>\n                  <CardHeader>\n                    <CardTitle className=\"text-lg\">{topic.category}</CardTitle>\n                  </CardHeader>\n                  <CardContent>\n                    <div className=\"space-y-2\">\n                      {topic.questions.map((question, qIndex) => (\n                        <Button\n                          key={qIndex}\n                          variant=\"outline\"\n                          className=\"w-full text-left justify-start h-auto py-3 px-4\"\n                          onClick={() => {\n                            handleTopicClick(question);\n                            // Switch to chat tab safely\n                            const chatTab = document.querySelector('[value=\"chat\"]');\n                            if (chatTab) {\n                              chatTab.click();\n                            }\n                          }}\n                        >\n                          <span className=\"text-sm break-words\">{question}</span>\n                        </Button>\n                      ))}\n                    </div>\n                  </CardContent>\n                </Card>\n              ))}\n            </div>\n          </TabsContent>\n        </Tabs>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}